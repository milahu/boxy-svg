let t;var i,s;i=this,s=function(){const t=11102230246251565e-32,i=134217729,s=(3+8*t)*t;function n(t,i,s,n,e){let r,h,l,o,a=i[0],f=n[0],u=0,c=0;f>a==f>-a?(r=a,a=i[++u]):(r=f,f=n[++c]);let _=0;if(u<t&&c<s)for(f>a==f>-a?(h=a+r,l=r-(h-a),a=i[++u]):(h=f+r,l=r-(h-f),f=n[++c]),r=h,0!==l&&(e[_++]=l);u<t&&c<s;)f>a==f>-a?(h=r+a,o=h-r,l=r-(h-o)+(a-o),a=i[++u]):(h=r+f,o=h-r,l=r-(h-o)+(f-o),f=n[++c]),r=h,0!==l&&(e[_++]=l);for(;u<t;)h=r+a,o=h-r,l=r-(h-o)+(a-o),a=i[++u],r=h,0!==l&&(e[_++]=l);for(;c<s;)h=r+f,o=h-r,l=r-(h-o)+(f-o),f=n[++c],r=h,0!==l&&(e[_++]=l);return 0===r&&0!==_||(e[_++]=r),_}function e(t){return new Float64Array(t)}const r=22204460492503146e-32,h=11093356479670487e-47,l=e(4),o=e(8),a=e(12),f=e(16),u=e(4);function c(t,e,c,_,d,y){const g=(e-y)*(c-d),w=(t-d)*(_-y),b=g-w;if(0===g||0===w||g>0!=w>0)return b;const A=Math.abs(g+w);return Math.abs(b)>=33306690738754716e-32*A?b:-function(t,e,c,_,d,y,g){let w,b,A,k,p,x,M,I,S,T,z,U,m,K,v,L,D,F;const P=t-d,E=c-d,H=e-y,N=_-y;K=P*N,x=i*P,M=x-(x-P),I=P-M,x=i*N,S=x-(x-N),T=N-S,v=I*T-(K-M*S-I*S-M*T),L=H*E,x=i*H,M=x-(x-H),I=H-M,x=i*E,S=x-(x-E),T=E-S,D=I*T-(L-M*S-I*S-M*T),z=v-D,p=v-z,l[0]=v-(z+p)+(p-D),U=K+z,p=U-K,m=K-(U-p)+(z-p),z=m-L,p=m-z,l[1]=m-(z+p)+(p-L),F=U+z,p=F-U,l[2]=U-(F-p)+(z-p),l[3]=F;let j=function(t,i){let s=i[0];for(let n=1;n<t;n++)s+=i[n];return s}(4,l),q=r*g;if(j>=q||-j>=q)return j;if(p=t-P,w=t-(P+p)+(p-d),p=c-E,A=c-(E+p)+(p-d),p=e-H,b=e-(H+p)+(p-y),p=_-N,k=_-(N+p)+(p-y),0===w&&0===b&&0===A&&0===k)return j;if(q=h*g+s*Math.abs(j),j+=P*k+N*w-(H*A+E*b),j>=q||-j>=q)return j;K=w*N,x=i*w,M=x-(x-w),I=w-M,x=i*N,S=x-(x-N),T=N-S,v=I*T-(K-M*S-I*S-M*T),L=b*E,x=i*b,M=x-(x-b),I=b-M,x=i*E,S=x-(x-E),T=E-S,D=I*T-(L-M*S-I*S-M*T),z=v-D,p=v-z,u[0]=v-(z+p)+(p-D),U=K+z,p=U-K,m=K-(U-p)+(z-p),z=m-L,p=m-z,u[1]=m-(z+p)+(p-L),F=U+z,p=F-U,u[2]=U-(F-p)+(z-p),u[3]=F;const B=n(4,l,4,u,o);K=P*k,x=i*P,M=x-(x-P),I=P-M,x=i*k,S=x-(x-k),T=k-S,v=I*T-(K-M*S-I*S-M*T),L=H*A,x=i*H,M=x-(x-H),I=H-M,x=i*A,S=x-(x-A),T=A-S,D=I*T-(L-M*S-I*S-M*T),z=v-D,p=v-z,u[0]=v-(z+p)+(p-D),U=K+z,p=U-K,m=K-(U-p)+(z-p),z=m-L,p=m-z,u[1]=m-(z+p)+(p-L),F=U+z,p=F-U,u[2]=U-(F-p)+(z-p),u[3]=F;const C=n(B,o,4,u,a);K=w*k,x=i*w,M=x-(x-w),I=w-M,x=i*k,S=x-(x-k),T=k-S,v=I*T-(K-M*S-I*S-M*T),L=b*A,x=i*b,M=x-(x-b),I=b-M,x=i*A,S=x-(x-A),T=A-S,D=I*T-(L-M*S-I*S-M*T),z=v-D,p=v-z,u[0]=v-(z+p)+(p-D),U=K+z,p=U-K,m=K-(U-p)+(z-p),z=m-L,p=m-z,u[1]=m-(z+p)+(p-L),F=U+z,p=F-U,u[2]=U-(F-p)+(z-p),u[3]=F;const G=n(C,a,4,u,f);return f[G-1]}(t,e,c,_,d,y,A)}const _=Math.pow(2,-52),d=new Uint32Array(512);class Delaunator{static from(t,i=k,s=p){const n=t.length,e=new Float64Array(2*n);for(let r=0;r<n;r++){const n=t[r];e[2*r]=i(n),e[2*r+1]=s(n)}return new Delaunator(e)}constructor(t){const i=t.length>>1;if(i>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const s=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*s),this._halfedges=new Int32Array(3*s),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:t,_hullPrev:i,_hullNext:s,_hullTri:n,_hullHash:e}=this,r=t.length>>1;let h=Infinity,l=Infinity,o=-Infinity,a=-Infinity;for(let i=0;i<r;i++){const s=t[2*i],n=t[2*i+1];s<h&&(h=s),n<l&&(l=n),s>o&&(o=s),n>a&&(a=n),this._ids[i]=i}const f=(h+o)/2,u=(l+a)/2;let d,g,A,k=Infinity;for(let i=0;i<r;i++){const s=y(f,u,t[2*i],t[2*i+1]);s<k&&(d=i,k=s)}const p=t[2*d],x=t[2*d+1];k=Infinity;for(let i=0;i<r;i++){if(i===d)continue;const s=y(p,x,t[2*i],t[2*i+1]);s<k&&s>0&&(g=i,k=s)}let M=t[2*g],I=t[2*g+1],S=Infinity;for(let i=0;i<r;i++){if(i===d||i===g)continue;const s=w(p,x,M,I,t[2*i],t[2*i+1]);s<S&&(A=i,S=s)}let T=t[2*A],z=t[2*A+1];if(Infinity===S){for(let i=0;i<r;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];b(this._ids,this._dists,0,r-1);const i=new Uint32Array(r);let s=0;for(let t=0,n=-Infinity;t<r;t++){const e=this._ids[t];this._dists[e]>n&&(i[s++]=e,n=this._dists[e])}return this.hull=i.subarray(0,s),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(c(p,x,M,I,T,z)<0){const t=g,i=M,s=I;g=A,M=T,I=z,A=t,T=i,z=s}const U=function(t,i,s,n,e,r){const h=s-t,l=n-i,o=e-t,a=r-i,f=h*h+l*l,u=o*o+a*a,c=.5/(h*a-l*o);return{x:t+(a*f-l*u)*c,y:i+(h*u-o*f)*c}}(p,x,M,I,T,z);this._cx=U.x,this._cy=U.y;for(let i=0;i<r;i++)this._dists[i]=y(t[2*i],t[2*i+1],U.x,U.y);b(this._ids,this._dists,0,r-1),this._hullStart=d;let m=3;s[d]=i[A]=g,s[g]=i[d]=A,s[A]=i[g]=d,n[d]=0,n[g]=1,n[A]=2,e.fill(-1),e[this._hashKey(p,x)]=d,e[this._hashKey(M,I)]=g,e[this._hashKey(T,z)]=A,this.trianglesLen=0,this._addTriangle(d,g,A,-1,-1,-1);for(let r,h,l=0;l<this._ids.length;l++){const o=this._ids[l],a=t[2*o],f=t[2*o+1];if(l>0&&Math.abs(a-r)<=_&&Math.abs(f-h)<=_)continue;if(r=a,h=f,o===d||o===g||o===A)continue;let u=0;for(let t=0,i=this._hashKey(a,f);t<this._hashSize&&(u=e[(i+t)%this._hashSize],-1===u||u===s[u]);t++);u=i[u];let y,w=u;for(;y=s[w],c(a,f,t[2*w],t[2*w+1],t[2*y],t[2*y+1])>=0;)if(w=y,w===u){w=-1;break}if(-1===w)continue;let b=this._addTriangle(w,o,s[w],-1,-1,n[w]);n[o]=this._legalize(b+2),n[w]=b,m++;let k=s[w];for(;y=s[k],c(a,f,t[2*k],t[2*k+1],t[2*y],t[2*y+1])<0;)b=this._addTriangle(k,o,y,n[o],-1,n[k]),n[o]=this._legalize(b+2),s[k]=k,m--,k=y;if(w===u)for(;y=i[w],c(a,f,t[2*y],t[2*y+1],t[2*w],t[2*w+1])<0;)b=this._addTriangle(y,o,w,-1,n[w],n[y]),this._legalize(b+2),n[y]=b,s[w]=w,m--,w=y;this._hullStart=i[o]=w,s[w]=i[k]=o,s[o]=k,e[this._hashKey(a,f)]=o,e[this._hashKey(t[2*w],t[2*w+1])]=w}this.hull=new Uint32Array(m);for(let t=0,i=this._hullStart;t<m;t++)this.hull[t]=i,i=s[i];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(function(t,i){const s=t/(Math.abs(t)+Math.abs(i));return(i>0?3-s:1+s)/4}(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:s,coords:n}=this;let e=0,r=0;for(;;){const h=s[t],l=t-t%3;if(r=l+(t+2)%3,-1===h){if(0===e)break;t=d[--e];continue}const o=h-h%3,a=l+(t+1)%3,f=o+(h+2)%3,u=i[r],c=i[t],_=i[a],y=i[f];if(g(n[2*u],n[2*u+1],n[2*c],n[2*c+1],n[2*_],n[2*_+1],n[2*y],n[2*y+1])){i[t]=y,i[h]=u;const n=s[f];if(-1===n){let i=this._hullStart;do{if(this._hullTri[i]===f){this._hullTri[i]=t;break}i=this._hullPrev[i]}while(i!==this._hullStart)}this._link(t,n),this._link(h,s[r]),this._link(r,f);const l=o+(h+1)%3;e<d.length&&(d[e++]=l)}else{if(0===e)break;t=d[--e]}}return r}_link(t,i){this._halfedges[t]=i,-1!==i&&(this._halfedges[i]=t)}_addTriangle(t,i,s,n,e,r){const h=this.trianglesLen;return this._triangles[h]=t,this._triangles[h+1]=i,this._triangles[h+2]=s,this._link(h,n),this._link(h+1,e),this._link(h+2,r),this.trianglesLen+=3,h}}function y(t,i,s,n){const e=t-s,r=i-n;return e*e+r*r}function g(t,i,s,n,e,r,h,l){const o=t-h,a=i-l,f=s-h,u=n-l,c=e-h,_=r-l,d=f*f+u*u,y=c*c+_*_;return o*(u*y-d*_)-a*(f*y-d*c)+(o*o+a*a)*(f*_-u*c)<0}function w(t,i,s,n,e,r){const h=s-t,l=n-i,o=e-t,a=r-i,f=h*h+l*l,u=o*o+a*a,c=.5/(h*a-l*o),_=(a*f-l*u)*c,d=(h*u-o*f)*c;return _*_+d*d}function b(t,i,s,n){if(n-s<=20)for(let e=s+1;e<=n;e++){const n=t[e],r=i[n];let h=e-1;for(;h>=s&&i[t[h]]>r;)t[h+1]=t[h--];t[h+1]=n}else{let e=s+1,r=n;A(t,s+n>>1,e),i[t[s]]>i[t[n]]&&A(t,s,n),i[t[e]]>i[t[n]]&&A(t,e,n),i[t[s]]>i[t[e]]&&A(t,s,e);const h=t[e],l=i[h];for(;;){do{e++}while(i[t[e]]<l);do{r--}while(i[t[r]]>l);if(r<e)break;A(t,e,r)}t[s+1]=t[r],t[r]=h,n-e+1>=r-s?(b(t,i,e,n),b(t,i,s,r-1)):(b(t,i,s,r-1),b(t,i,e,n))}}function A(t,i,s){const n=t[i];t[i]=t[s],t[s]=n}function k(t){return t[0]}function p(t){return t[1]}return Delaunator},"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):(i="undefined"!=typeof globalThis?globalThis:i||self,t=s());export default t;