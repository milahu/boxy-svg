function e(e,r){let t=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(r[0])||(r=r.map((e=>[e])));let o=r[0].length,a=r[0].map(((e,t)=>r.map((e=>e[t])))),n=e.map((e=>a.map((r=>{let t=0;if(!Array.isArray(e)){for(let o of r)t+=e*o;return t}for(let o=0;o<e.length;o++)t+=e[o]*(r[o]||0);return t}))));return 1===t&&(n=n[0]),1===o?n.map((e=>e[0])):n}function r(e){return"string"===t(e)}function t(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function o(e,r){e=+e,r=+r;let t=(Math.floor(e)+"").length;if(r>t)return+e.toFixed(r-t);{let o=10**(t-r);return Math.round(e/o)*o}}function a(e){if(!e)return;e=e.trim();const r=/^-?[\d.]+$/;let t=e.match(/^([a-z]+)\((.+?)\)$/i);if(t){let e=[];return t[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,((t,o)=>{/%$/.test(o)?(o=new Number(o.slice(0,-1)/100)).type="<percentage>":/deg$/.test(o)?((o=new Number(+o.slice(0,-3))).type="<angle>",o.unit="deg"):r.test(o)&&((o=new Number(o)).type="<number>"),t.startsWith("/")&&((o=o instanceof Number?o:new Number(o)).alpha=!0),e.push(o)})),{name:t[1].toLowerCase(),rawName:t[1],rawArgs:t[2],args:e}}}function n(e){return e[e.length-1]}function s(e,r,t){return isNaN(e)?r:isNaN(r)?e:e+(r-e)*t}function l(e,r,t){return(t-e)/(r-e)}function i(e,r,t){return s(r[0],r[1],l(e[0],e[1],t))}function c(e){return e.map((e=>e.split("|").map((e=>{let r=(e=e.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(r){let e=new String(r[1]);return e.range=[+r[2],+r[3]],e}return e}))))}var p=Object.freeze({__proto__:null,interpolate:s,interpolateInv:l,isString:r,last:n,mapRange:i,multiplyMatrices:e,parseCoordGrammar:c,parseFunction:a,toPrecision:o,type:t});const u=new class{add(e,r,t){if("string"==typeof arguments[0])(Array.isArray(e)?e:[e]).forEach((function(e){this[e]=this[e]||[],r&&this[e][t?"unshift":"push"](r)}),this);else for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1])}run(e,r){this[e]=this[e]||[],this[e].forEach((function(e){e.call(r&&r.context?r.context:r,r)}))}};var h={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const m={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function d(e){return Array.isArray(e)?e:m[e]}function f(r,t,o,a={}){if(r=d(r),t=d(t),!r||!t)throw new TypeError(`Missing white point to convert ${r?"":"from"}${r||t?"":"/"}${t?"":"to"}`);if(r===t)return o;let n={W1:r,W2:t,XYZ:o,options:a};if(u.run("chromatic-adaptation-start",n),n.M||(n.W1===m.D65&&n.W2===m.D50?n.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:n.W1===m.D50&&n.W2===m.D65&&(n.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),u.run("chromatic-adaptation-end",n),n.M)return e(n.M,n.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}class ColorSpace{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?ColorSpace.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let e in r)"name"in r[e]||(r[e].name=e);this.coords=r;let t=e.white??this.base.white??"D65";this.white=d(t),this.formats=e.formats??{};for(let e in this.formats){let r=this.formats[e];r.type||="function",r.name||=e}e.cssId&&!this.formats.functions?.color?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):this.formats?.color&&!this.formats?.color.id&&(this.formats.color.id=this.id),this.referred=e.referred,Object.defineProperty(this,"path",{value:g(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),u.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=75e-6}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:r});let t=Object.values(this.coords);return e.every(((e,o)=>{let a=t[o];if("angle"!==a.type&&a.range){if(Number.isNaN(e))return!0;let[t,o]=a.range;return(void 0===t||e>=t-r)&&(void 0===o||e<=o+r)}return!0}))}get cssId(){return this.formats.functions?.color?.id||this.id}get isPolar(){for(let e in this.coords)if("angle"===this.coords[e].type)return!0;return!1}getFormat(e){if("object"==typeof e)return e=b(e,this);let r;return r="default"===e?Object.values(this.formats)[0]:this.formats[e],r?(r=b(r,this),r):null}equals(e){return!!e&&(this===e||this.id===e.id)}to(e,r){if(1===arguments.length&&([e,r]=[e.space,e.coords]),e=ColorSpace.get(e),this.equals(e))return r;r=r.map((e=>Number.isNaN(e)?0:e));let t,o,a=this.path,n=e.path;for(let e=0;e<a.length&&a[e].equals(n[e]);e++)t=a[e],o=e;if(!t)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let e=a.length-1;e>o;e--)r=a[e].toBase(r);for(let e=o+1;e<n.length;e++)r=n[e].fromBase(r);return r}from(e,r){return 1===arguments.length&&([e,r]=[e.space,e.coords]),(e=ColorSpace.get(e)).to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let t=this.coords[r],o=t.range||t.refRange;e.push(o?.min??0)}return e}static registry={};static get all(){return[...new Set(Object.values(ColorSpace.registry))]}static register(e,r){if(1===arguments.length&&(e=(r=arguments[0]).id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,1===arguments.length&&r.aliases)for(let e of r.aliases)this.register(e,r);return r}static get(e,...r){if(!e||e instanceof ColorSpace)return e;if("string"===t(e)){let r=ColorSpace.registry[e.toLowerCase()];if(!r)throw new TypeError(`No color space found with id = "${e}"`);return r}if(r.length)return ColorSpace.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){let o,a,n=t(e);if("string"===n?e.includes(".")?[o,a]=e.split("."):[o,a]=[,e]:Array.isArray(e)?[o,a]=e:(o=e.space,a=e.coordId),o=ColorSpace.get(o),o||(o=r),!o)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(n=t(a),"number"===n||"string"===n&&a>=0){let e=Object.entries(o.coords)[a];if(e)return{space:o,id:e[0],index:a,...e[1]}}o=ColorSpace.get(o);let s=a.toLowerCase(),l=0;for(let e in o.coords){let r=o.coords[e];if(e.toLowerCase()===s||r.name?.toLowerCase()===s)return{space:o,id:e,index:l,...r};l++}throw new TypeError(`No "${a}" coordinate found in ${o.name}. Its coordinates are: ${Object.keys(o.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function g(e){let r=[e];for(let t=e;t=t.base;)r.push(t);return r}function b(e,{coords:r}={}){if(e.coords&&!e.coordGrammar){e.type||="function",e.name||="color",e.coordGrammar=c(e.coords);let t=Object.entries(r).map((([r,t],o)=>{let a=e.coordGrammar[o][0],n=t.range||t.refRange,s=a.range,l="";return"<percentage>"==a?(s=[0,100],l="%"):"<angle>"==a&&(l="deg"),{fromRange:n,toRange:s,suffix:l}}));e.serializeCoords=(e,r)=>e.map(((e,a)=>{let{fromRange:n,toRange:s,suffix:l}=t[a];return n&&s&&(e=i(n,s,e)),e=o(e,r),l&&(e+=l),e}))}return e}var C=new ColorSpace({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class RGBColorSpace extends ColorSpace{constructor(r){r.coords||(r.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),r.base||(r.base=C),r.toXYZ_M&&r.fromXYZ_M&&(r.toBase??=t=>{let o=e(r.toXYZ_M,t);return this.white!==this.base.white&&(o=f(this.white,this.base.white,o)),o},r.fromBase??=t=>(t=f(this.base.white,this.white,t),e(r.fromXYZ_M,t))),r.referred??="display",super(r)}}function M(e,{meta:r}={}){let t={str:String(e)?.trim()};if(u.run("parse-start",t),t.color)return t.color;if(t.parsed=a(t.str),t.parsed){let e=t.parsed.name;if("color"===e){let e=t.parsed.args.shift(),o=t.parsed.rawArgs.indexOf("/")>0?t.parsed.args.pop():1;for(let a of ColorSpace.all){let n=a.getFormat("color");if(n&&(e===n.id||n.ids?.includes(e))){const e=Object.keys(a.coords).map(((e,r)=>t.parsed.args[r]||0));return r&&(r.formatId="color"),{spaceId:a.id,coords:e,alpha:o}}}let a="";if(e in ColorSpace.registry){let r=ColorSpace.registry[e].formats?.functions?.color?.id;r&&(a=`Did you mean color(${r})?`)}throw new TypeError(`Cannot parse color(${e}). `+(a||"Missing a plugin?"))}for(let o of ColorSpace.all){let a=o.getFormat(e);if(a&&"function"===a.type){let s=1;(a.lastAlpha||n(t.parsed.args).alpha)&&(s=t.parsed.args.pop());let l,c=t.parsed.args;return a.coordGrammar&&(l=Object.entries(o.coords).map((([r,t],o)=>{let n=a.coordGrammar[o],s=c[o]?.type,l=n.find((e=>e==s));if(!l){let o=t.name||r;throw new TypeError(`${s} not allowed for ${o} in ${e}()`)}let p=l.range;"<percentage>"===s&&(p||=[0,1]);let u=t.range||t.refRange;return p&&u&&(c[o]=i(p,u,c[o])),l}))),r&&Object.assign(r,{formatId:a.name,types:l}),{spaceId:o.id,coords:c,alpha:s}}}}else for(let e of ColorSpace.all)for(let o in e.formats){let a=e.formats[o];if("custom"!==a.type)continue;if(a.test&&!a.test(t.str))continue;let n=a.parse(t.str);if(n)return n.alpha??=1,r&&(r.formatId=o),n}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function w(e){if(!e)throw new TypeError("Empty color reference");r(e)&&(e=M(e));let t=e.space||e.spaceId;return t instanceof ColorSpace||(e.space=ColorSpace.get(t)),void 0===e.alpha&&(e.alpha=1),e}function y(e,r){return(r=ColorSpace.get(r)).from(e)}function S(e,r){let{space:t,index:o}=ColorSpace.resolveCoord(r,e.space);return y(e,t)[o]}function B(e,r,t){return r=ColorSpace.get(r),e.coords=r.to(e.space,t),e}function _(e,r,o){if(e=w(e),2===arguments.length&&"object"===t(arguments[1])){let r=arguments[1];for(let t in r)_(e,t,r[t])}else{"function"==typeof o&&(o=o(S(e,r)));let{space:t,index:a}=ColorSpace.resolveCoord(r,e.space),n=y(e,t);n[a]=o,B(e,t,n)}return e}var v=new ColorSpace({id:"xyz-d50",name:"XYZ D50",white:"D50",base:C,fromBase:e=>f(C.white,"D50",e),toBase:e=>f("D50",C.white,e),formats:{color:{}}});const R=24/116,k=24389/27;let x=m.D50;var A=new ColorSpace({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:x,base:v,fromBase(e){let r=e.map(((e,r)=>e/x[r])).map((e=>e>.008856451679035631?Math.cbrt(e):(k*e+16)/116));return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(e){let r=[];return r[1]=(e[0]+16)/116,r[0]=e[1]/500+r[1],r[2]=r[1]-e[2]/200,[r[0]>R?Math.pow(r[0],3):(116*r[0]-16)/k,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/k,r[2]>R?Math.pow(r[2],3):(116*r[2]-16)/k].map(((e,r)=>e*x[r]))},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function N(e){return(e%360+360)%360}var z=new ColorSpace({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:A,fromBase(e){let r,[t,o,a]=e;return r=Math.abs(o)<.02&&Math.abs(a)<.02?NaN:180*Math.atan2(a,o)/Math.PI,[t,Math.sqrt(o**2+a**2),N(r)]},toBase(e){let[r,t,o]=e;return t<0&&(t=0),isNaN(o)&&(o=0),[r,t*Math.cos(o*Math.PI/180),t*Math.sin(o*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const E=25**7,j=Math.PI,G=180/j,P=j/180;function L(e,r,{kL:t=1,kC:o=1,kH:a=1}={}){let[n,s,l]=A.from(e),i=z.from(A,[n,s,l])[1],[c,p,u]=A.from(r),h=z.from(A,[c,p,u])[1];i<0&&(i=0),h<0&&(h=0);let m=((i+h)/2)**7,d=.5*(1-Math.sqrt(m/(m+E))),f=(1+d)*s,g=(1+d)*p,b=Math.sqrt(f**2+l**2),C=Math.sqrt(g**2+u**2),M=0===f&&0===l?0:Math.atan2(l,f),w=0===g&&0===u?0:Math.atan2(u,g);M<0&&(M+=2*j),w<0&&(w+=2*j),M*=G,w*=G;let y,S=c-n,B=C-b,_=w-M,v=M+w,R=Math.abs(_);b*C==0?y=0:R<=180?y=_:_>180?y=_-360:_<-180?y=_+360:console.log("the unthinkable has happened");let k,x=2*Math.sqrt(C*b)*Math.sin(y*P/2),N=(n+c)/2,L=(b+C)/2,O=Math.pow(L,7);k=b*C==0?v:R<=180?v/2:v<360?(v+360)/2:(v-360)/2;let $=(N-50)**2,D=1+.015*$/Math.sqrt(20+$),I=1+.045*L,q=1;q-=.17*Math.cos((k-30)*P),q+=.24*Math.cos(2*k*P),q+=.32*Math.cos((3*k+6)*P),q-=.2*Math.cos((4*k-63)*P);let T=1+.015*L*q,X=30*Math.exp(-1*((k-275)/25)**2),Y=2*Math.sqrt(O/(O+E)),Z=(S/(t*D))**2;return Z+=(B/(o*I))**2,Z+=(x/(a*T))**2,Z+=-1*Math.sin(2*X*P)*Y*(B/(o*I))*(x/(a*T)),Math.sqrt(Z)}const O=75e-6;function $(e,r=e.space,{epsilon:t=O}={}){e=w(e),r=ColorSpace.get(r);let o=e.coords;return r!==e.space&&(o=r.from(e)),r.inGamut(o,{epsilon:t})}function D(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function I(e,{method:t=h.gamut_mapping,space:o=e.space}={}){if(r(arguments[1])&&(o=arguments[1]),$(e,o=ColorSpace.get(o),{epsilon:0}))return w(e);let a=q(e,o);if("clip"!==t&&!$(e,o)){let r=I(D(a),{method:"clip",space:o});if(L(e,r)>2){let e=ColorSpace.resolveCoord(t),r=e.space,n=e.id,s=q(a,r),l=.01,i=(e.range||e.refRange)[0],c=S(s,n);for(;c-i>l;){let e=D(s);e=I(e,{space:o,method:"clip"}),L(s,e)-2<l?i=S(s,n):c=S(s,n),_(s,n,(i+c)/2)}a=q(s,o)}else a=r}if("clip"===t||!$(a,o,{epsilon:0})){let e=Object.values(o.coords).map((e=>e.range||[]));a.coords=a.coords.map(((r,t)=>{let[o,a]=e[t];return void 0!==o&&(r=Math.max(o,r)),void 0!==a&&(r=Math.min(r,a)),r}))}return o!==e.space&&(a=q(a,e.space)),e.coords=a.coords,e}function q(e,r,{inGamut:t}={}){e=w(e);let o=(r=ColorSpace.get(r)).from(e),a={space:r,coords:o,alpha:e.alpha};return t&&(a=I(a)),a}function T(e,{precision:r=h.precision,format:t="default",inGamut:a=!0,...n}={}){let s,l=t;t=(e=w(e)).space.getFormat(t)??e.space.getFormat("default")??ColorSpace.DEFAULT_FORMAT,a||=t.toGamut;let i=e.coords;if(i=i.map((e=>e||0)),a&&!$(e)&&(i=I(D(e),!0===a?void 0:a).coords),"custom"===t.type){if(n.precision=r,!t.serialize)throw new TypeError(`format ${l} can only be used to parse colors, not for serialization`);s=t.serialize(i,e.alpha,n)}else{let a=t.name||"color";t.serializeCoords?i=t.serializeCoords(i,r):null!==r&&(i=i.map((e=>o(e,r))));let n=[...i];if("color"===a){let r=t.id||t.ids?.[0]||e.space.id;n.unshift(r)}let l=e.alpha;null!==r&&(l=o(l,r));let c=e.alpha<1&&!t.noAlpha?`${t.commas?",":" /"} ${l}`:"";s=`${a}(${n.join(t.commas?", ":" ")}${c})`}return s}I.returns="color",q.returns="color";var X=new RGBColorSpace({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],formats:{color:{}}});const Y=1.09929682680944,Z=.018053968510807;var F=new RGBColorSpace({id:"rec2020",name:"REC.2020",base:X,toBase:e=>e.map((function(e){return e<4.5*Z?e/4.5:Math.pow((e+Y-1)/Y,1/.45)})),fromBase:e=>e.map((function(e){return e>=Z?Y*Math.pow(e,.45)-(Y-1):4.5*e})),formats:{color:{}}});var H=new RGBColorSpace({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]});var W=new RGBColorSpace({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],formats:{color:{}}}),J={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let K=Array(3).fill("<percentage> | <number>[0, 255]"),U=Array(3).fill("<number>[0, 255]");var Q=new RGBColorSpace({id:"srgb",name:"sRGB",base:W,fromBase:e=>e.map((e=>{let r=e<0?-1:1,t=e*r;return t>.0031308?r*(1.055*t**(1/2.4)-.055):12.92*e})),toBase:e=>e.map((e=>{let r=e<0?-1:1,t=e*r;return t<.04045?e/12.92:r*((t+.055)/1.055)**2.4})),formats:{rgb:{coords:K},rgb_number:{name:"rgb",commas:!0,coords:U,noAlpha:!0},color:{},rgba:{coords:K,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:U},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let r=[];return e.replace(/[a-f0-9]{2}/gi,(e=>{r.push(parseInt(e,16)/255)})),{spaceId:"srgb",coords:r.slice(0,3),alpha:r.slice(3)[0]}},serialize:(e,r,{collapse:t=!0}={})=>{r<1&&e.push(r),e=e.map((e=>Math.round(255*e)));let o=t&&e.every((e=>e%17==0)),a=e.map((e=>o?(e/17).toString(16):e.toString(16).padStart(2,"0"))).join("");return"#"+a}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){let r={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(e=e.toLowerCase())?(r.coords=J.black,r.alpha=0):r.coords=J[e],r.coords)return r}}}}),V=new RGBColorSpace({id:"p3",name:"P3",base:H,fromBase:Q.fromBase,toBase:Q.toBase,formats:{color:{id:"display-p3"}}});if(h.display_space=Q,"undefined"!=typeof CSS&&CSS.supports)for(let e of[A,F,V]){let r=e.getMinCoords(),t=T({space:e,coords:r,alpha:1});if(CSS.supports("color",t)){h.display_space=e;break}}function ee(e,r,t="lab"){let o=(t=ColorSpace.get(t)).from(e),a=t.from(r);return Math.sqrt(o.reduce(((e,r,t)=>{let o=a[t];return isNaN(r)||isNaN(o)?e:e+(o-r)**2}),0))}function re(e){return S(e,[C,"y"])}function te(e,r){_(e,[C,"y"],r)}var oe=Object.freeze({__proto__:null,getLuminance:re,register:function(e){Object.defineProperty(e.prototype,"luminance",{get(){return re(this)},set(e){te(this,e)}})},setLuminance:te});const ae=.022,ne=1.414;function se(e){return e>=ae?e:e+(ae-e)**ne}function le(e){let r=e<0?-1:1,t=Math.abs(e);return r*Math.pow(t,2.4)}const ie=24/116,ce=24389/27;let pe=m.D65;var ue=new ColorSpace({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:pe,base:C,fromBase(e){let r=e.map(((e,r)=>e/pe[r])).map((e=>e>.008856451679035631?Math.cbrt(e):(ce*e+16)/116));return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(e){let r=[];return r[1]=(e[0]+16)/116,r[0]=e[1]/500+r[1],r[2]=r[1]-e[2]/200,[r[0]>ie?Math.pow(r[0],3):(116*r[0]-16)/ce,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/ce,r[2]>ie?Math.pow(r[2],3):(116*r[2]-16)/ce].map(((e,r)=>e*pe[r]))},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const he=.5*Math.pow(5,.5)+.5;var me=Object.freeze({__proto__:null,contrastAPCA:function(e,r){let t,o,a,n,s,l;r=w(r),e=w(e),r=q(r,"srgb"),[n,s,l]=r.coords;let i=.2126729*le(n)+.7151522*le(s)+.072175*le(l);e=q(e,"srgb"),[n,s,l]=e.coords;let c=.2126729*le(n)+.7151522*le(s)+.072175*le(l),p=se(i),u=se(c),h=u>p;return Math.abs(u-p)<5e-4?o=0:h?(t=u**.56-p**.57,o=1.14*t):(t=u**.65-p**.62,o=1.14*t),a=Math.abs(o)<.1?0:o>0?o-.027:o+.027,100*a},contrastDeltaPhi:function(e,r){e=w(e),r=w(r);let t=S(e,[ue,"l"]),o=S(r,[ue,"l"]),a=Math.abs(Math.pow(t,he)-Math.pow(o,he)),n=Math.pow(a,1/he)*Math.SQRT2-40;return n<7.5?0:n},contrastLstar:function(e,r){e=w(e),r=w(r);let t=S(e,[A,"l"]),o=S(r,[A,"l"]);return Math.abs(t-o)},contrastMichelson:function(e,r){e=w(e),r=w(r);let t=Math.max(re(e),0),o=Math.max(re(r),0);o>t&&([t,o]=[o,t]);let a=t+o;return 0===a?0:(t-o)/a},contrastWCAG21:function(e,r){e=w(e),r=w(r);let t=Math.max(re(e),0),o=Math.max(re(r),0);return o>t&&([t,o]=[o,t]),(t+.05)/(o+.05)},contrastWeber:function(e,r){e=w(e),r=w(r);let t=Math.max(re(e),0),o=Math.max(re(r),0);return o>t&&([t,o]=[o,t]),0===o?5e4:(t-o)/o}});function de(e){let[r,t,o]=y(e,C),a=r+15*t+3*o;return[4*r/a,9*t/a]}function fe(e){let[r,t,o]=y(e,C),a=r+t+o;return[r/a,t/a]}var ge=Object.freeze({__proto__:null,register:function(e){Object.defineProperty(e.prototype,"uv",{get(){return de(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return fe(this)}})},uv:de,xy:fe});const be=Math.PI/180;var Ce=new ColorSpace({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:C,fromBase:e=>e.map((e=>Math.max(203*e,0))),toBase:e=>e.map((e=>Math.max(e/203,0)))});const Me=1.15,we=.66,ye=2610/16384,Se=.8359375,Be=2413/128,_e=18.6875,ve=32/(1.7*2523),Re=-.56,ke=16295499532821565e-27,xe=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Ae=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Ne=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],ze=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var Ee=new ColorSpace({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Ce,fromBase(r){let[t,o,a]=r,n=e(xe,[Me*t-(Me-1)*a,we*o-(we-1)*t,a]).map((function(e){return((Se+Be*(e/1e4)**ye)/(1+_e*(e/1e4)**ye))**134.03437499999998})),[s,l,i]=e(Ne,n);return[(1+Re)*s/(1+Re*s)-ke,l,i]},toBase(r){let[t,o,a]=r,n=e(ze,[(t+ke)/(1+Re-Re*(t+ke)),o,a]).map((function(e){return 1e4*((Se-e**ve)/(_e*e**ve-Be))**6.277394636015326})),[s,l,i]=e(Ae,n),c=(s+(Me-1)*i)/Me;return[c,(l+(we-1)*c)/we,i]},formats:{color:{}}}),je=new ColorSpace({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ee,fromBase(e){let r,[t,o,a]=e;const n=2e-4;return r=Math.abs(o)<n&&Math.abs(a)<n?NaN:180*Math.atan2(a,o)/Math.PI,[t,Math.sqrt(o**2+a**2),N(r)]},toBase:e=>[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)],formats:{color:{}}});const Ge=.8359375,Pe=2413/128,Le=18.6875,Oe=2610/16384,$e=2523/32,De=16384/2610,Ie=32/2523,qe=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],Te=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Xe=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],Ye=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var Ze=new ColorSpace({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Ce,fromBase:r=>function(r){let t=r.map((function(e){return((Ge+Pe*(e/1e4)**Oe)/(1+Le*(e/1e4)**Oe))**$e}));return e(Te,t)}(e(qe,r)),toBase(r){let t=function(r){let t=e(Xe,r),o=t.map((function(e){return 1e4*(Math.max(e**Ie-Ge,0)/(Pe-Le*e**Ie))**De}));return o}(r);return e(Ye,t)},formats:{color:{}}});const Fe=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],He=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],We=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],Je=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var Ke=new ColorSpace({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:C,fromBase(r){let t=e(Fe,r).map((e=>Math.cbrt(e)));return e(We,t)},toBase(r){let t=e(Je,r).map((e=>e**3));return e(He,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});var Ue={deltaE76:function(e,r){return ee(e,r,"lab")},deltaECMC:function(e,r,{l:t=2,c:o=1}={}){let[a,n,s]=A.from(e),[,l,i]=z.from(A,[a,n,s]),[c,p,u]=A.from(r),h=z.from(A,[c,p,u])[1];l<0&&(l=0),h<0&&(h=0);let m=a-c,d=l-h,f=(n-p)**2+(s-u)**2-d**2,g=.511;a>=16&&(g=.040975*a/(1+.01765*a));let b,C=.0638*l/(1+.0131*l)+.638;Number.isNaN(i)&&(i=0),b=i>=164&&i<=345?.56+Math.abs(.2*Math.cos((i+168)*be)):.36+Math.abs(.4*Math.cos((i+35)*be));let M=Math.pow(l,4),w=Math.sqrt(M/(M+1900)),y=(m/(t*g))**2;return y+=(d/(o*C))**2,y+=f/(C*(w*b+1-w))**2,Math.sqrt(y)},deltaE2000:L,deltaEJz:function(e,r){let[t,o,a]=je.from(e),[n,s,l]=je.from(r),i=t-n,c=o-s;Number.isNaN(a)&&Number.isNaN(l)?(a=0,l=0):Number.isNaN(a)?a=l:Number.isNaN(l)&&(l=a);let p=a-l,u=2*Math.sqrt(o*s)*Math.sin(p/2*(Math.PI/180));return Math.sqrt(i**2+c**2+u**2)},deltaEITP:function(e,r){let[t,o,a]=Ze.from(e),[n,s,l]=Ze.from(r);return 720*Math.sqrt((t-n)**2+.25*(o-s)**2+(a-l)**2)},deltaEOK:function(e,r){let[t,o,a]=Ke.from(e),[n,s,l]=Ke.from(r),i=t-n,c=o-s,p=a-l;return Math.sqrt(i**2+c**2+p**2)}};function Qe(e,t,o={}){r(o)&&(o={method:o});let{method:a=h.deltaE,...n}=o;e=w(e),t=w(t);for(let r in Ue)if("deltae"+a.toLowerCase()===r.toLowerCase())return Ue[r](e,t,n);throw new TypeError(`Unknown deltaE method: ${a}`)}var Ve=Object.freeze({__proto__:null,darken:function(e,r=.25){return _(e,[ColorSpace.get("oklch","lch"),"l"],(e=>e*(1-r)))},lighten:function(e,r=.25){return _(e,[ColorSpace.get("oklch","lch"),"l"],(e=>e*(1+r)))}});function er(e,r,o=.5,a={}){[e,r]=[w(e),w(r)],"object"===t(o)&&([o,a]=[.5,o]);let{space:n,outputSpace:s,premultiplied:l}=a;return tr(e,r,{space:n,outputSpace:s,premultiplied:l})(o)}function rr(e,r,t={}){let o;or(e)&&([o,t]=[e,r],[e,r]=o.rangeArgs.colors);let{maxDeltaE:a,deltaEMethod:n,steps:s=2,maxSteps:l=1e3,...i}=t;o||([e,r]=[w(e),w(r)],o=tr(e,r,i));let c=Qe(e,r),p=a>0?Math.max(s,Math.ceil(c/a)+1):s,u=[];if(void 0!==l&&(p=Math.min(p,l)),1===p)u=[{p:.5,color:o(.5)}];else{let e=1/(p-1);u=Array.from({length:p},((r,t)=>{let a=t*e;return{p:a,color:o(a)}}))}if(a>0){let e=u.reduce(((e,r,t)=>{if(0===t)return 0;let o=Qe(r.color,u[t-1].color,n);return Math.max(e,o)}),0);for(;e>a;){e=0;for(let r=1;r<u.length&&u.length<l;r++){let t=u[r-1],a=u[r],n=(a.p+t.p)/2,s=o(n);e=Math.max(e,Qe(s,t.color),Qe(s,a.color)),u.splice(r,0,{p:n,color:o(n)}),r++}}}return u=u.map((e=>e.color)),u}function tr(e,r,t={}){if(or(e)){let[t,o]=[e,r];return tr(...t.rangeArgs.colors,{...t.rangeArgs.options,...o})}let{space:o,outputSpace:a,progression:n,premultiplied:l}=t;e=w(e),r=w(r),e=D(e),r=D(r);let i={colors:[e,r],options:t};if(o=o?ColorSpace.get(o):ColorSpace.registry[h.interpolationSpace]||e.space,a=a?ColorSpace.get(a):o,e=q(e,o),r=q(r,o),e=I(e),r=I(r),o.coords.h&&"angle"===o.coords.h.type){let a=t.hue=t.hue||"shorter",n=[o,"h"],[s,l]=[S(e,n),S(r,n)];[s,l]=function(e,r){if("raw"===e)return r;let[t,o]=r.map(N),a=o-t;return"increasing"===e?a<0&&(o+=360):"decreasing"===e?a>0&&(t+=360):"longer"===e?-180<a&&a<180&&(a>0?t+=360:o+=360):"shorter"===e&&(a>180?t+=360:a<-180&&(o+=360)),[t,o]}(a,[s,l]),_(e,n,s),_(r,n,l)}return l&&(e.coords=e.coords.map((r=>r*e.alpha)),r.coords=r.coords.map((e=>e*r.alpha))),Object.assign((t=>{t=n?n(t):t;let i=e.coords.map(((e,o)=>s(e,r.coords[o],t))),c=s(e.alpha,r.alpha,t),p={space:o,coords:i,alpha:c};return l&&(p.coords=p.coords.map((e=>e/c))),a!==o&&(p=q(p,a)),p}),{rangeArgs:i})}function or(e){return"function"===t(e)&&!!e.rangeArgs}h.interpolationSpace="lab";var ar=Object.freeze({__proto__:null,isRange:or,mix:er,range:tr,register:function(e){e.defineFunction("mix",er,{returns:"color"}),e.defineFunction("range",tr,{returns:"function<color>"}),e.defineFunction("steps",rr,{returns:"array<color>"})},steps:rr}),nr=new ColorSpace({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Q,fromBase:e=>{let r=Math.max(...e),t=Math.min(...e),[o,a,n]=e,[s,l,i]=[NaN,0,(t+r)/2],c=r-t;if(0!==c){switch(l=0===i||1===i?0:(r-i)/Math.min(i,1-i),r){case o:s=(a-n)/c+(a<n?6:0);break;case a:s=(n-o)/c+2;break;case n:s=(o-a)/c+4}s*=60}return[s,100*l,100*i]},toBase:e=>{let[r,t,o]=e;function a(e){let a=(e+r/30)%12,n=t*Math.min(o,1-o);return o-n*Math.max(-1,Math.min(a-3,9-a,1))}return r%=360,r<0&&(r+=360),t/=100,o/=100,[a(0),a(8),a(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),sr=new ColorSpace({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:nr,fromBase(e){let[r,t,o]=e;t/=100,o/=100;let a=o+t*Math.min(o,1-o);return[r,0===a?0:200*(1-o/a),100*a]},toBase(e){let[r,t,o]=e;t/=100,o/=100;let a=o*(1-t/2);return[r,0===a||1===a?0:(o-a)/Math.min(a,1-a)*100,100*a]},formats:{color:{toGamut:!0}}}),lr=new ColorSpace({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:sr,fromBase(e){let[r,t,o]=e;return[r,o*(100-t)/100,100-o]},toBase(e){let[r,t,o]=e;t/=100,o/=100;let a=t+o;if(a>=1){return[r,0,100*(t/a)]}let n=1-o;return[r,100*(0===n?0:1-t/n),100*n]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});var ir=new RGBColorSpace({id:"a98rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),cr=new RGBColorSpace({id:"a98rgb",name:"Adobe® 98 RGB compatible",base:ir,toBase:e=>e.map((e=>Math.pow(Math.abs(e),563/256)*Math.sign(e))),fromBase:e=>e.map((e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))),formats:{color:{id:"a98-rgb"}}});var pr=new RGBColorSpace({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:v,toXYZ_M:[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],fromXYZ_M:[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]]});var ur=new RGBColorSpace({id:"prophoto",name:"ProPhoto",base:pr,toBase:e=>e.map((e=>e<.03125?e/16:e**1.8)),fromBase:e=>e.map((e=>e>=.001953125?e**(1/1.8):16*e)),formats:{color:{id:"prophoto-rgb"}}}),hr=new ColorSpace({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Ke,fromBase(e){let r,[t,o,a]=e;const n=2e-4;return r=Math.abs(o)<n&&Math.abs(a)<n?NaN:180*Math.atan2(a,o)/Math.PI,[t,Math.sqrt(o**2+a**2),N(r)]},toBase(e){let r,t,[o,a,n]=e;return isNaN(n)?(r=0,t=0):(r=a*Math.cos(n*Math.PI/180),t=a*Math.sin(n*Math.PI/180)),[o,r,t]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const mr=2610/16384,dr=32/2523,fr=.8359375,gr=2413/128,br=18.6875;var Cr=new RGBColorSpace({id:"rec2100pq",name:"REC.2100-PQ",base:X,toBase:e=>e.map((function(e){return 1e4*(Math.max(e**dr-fr,0)/(gr-br*e**dr))**6.277394636015326/203})),fromBase:e=>e.map((function(e){let r=Math.max(203*e/1e4,0);return((fr+gr*r**mr)/(1+br*r**mr))**78.84375})),formats:{color:{id:"rec2100-pq"}}});const Mr=.17883277,wr=.28466892,yr=.55991073,Sr=3.7743;var Br=new RGBColorSpace({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:X,toBase:e=>e.map((function(e){return e<=.5?e**2/3*Sr:(Math.exp((e-yr)/Mr)+wr)/12*Sr})),fromBase:e=>e.map((function(e){return(e/=Sr)<=1/12?Math.sqrt(3*e):Mr*Math.log(12*e-wr)+yr})),formats:{color:{id:"rec2100-hlg"}}});const _r={};function vr({id:e,toCone_M:r,fromCone_M:t}){_r[e]=arguments[0]}function Rr(r,t,o="Bradford"){let a=_r[o],[n,s,l]=e(a.toCone_M,r),[i,c,p]=e(a.toCone_M,t),u=e([[i/n,0,0],[0,c/s,0],[0,0,p/l]],a.toCone_M);return e(a.fromCone_M,u)}u.add("chromatic-adaptation-start",(e=>{e.options.method&&(e.M=Rr(e.W1,e.W2,e.options.method))})),u.add("chromatic-adaptation-end",(e=>{e.M||(e.M=Rr(e.W1,e.W2,e.options.method))})),vr({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]}),vr({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]}),vr({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]}),vr({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]}),Object.assign(m,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),m.ACES=[.32168/.33767,1,.34065/.33767];var kr=new RGBColorSpace({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:m.ACES,toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],formats:{color:{}}});const xr=2**-16,Ar=-.35828683,Nr=(Math.log2(65504)+9.72)/17.52;var zr=new RGBColorSpace({id:"acescc",name:"ACEScc",coords:{r:{range:[Ar,Nr],name:"Red"},g:{range:[Ar,Nr],name:"Green"},b:{range:[Ar,Nr],name:"Blue"}},referred:"scene",base:kr,toBase:e=>e.map((function(e){return e<=-.3013698630136986?2*(2**(17.52*e-9.72)-xr):e<Nr?2**(17.52*e-9.72):65504})),fromBase:e=>e.map((function(e){return e<=0?(Math.log2(xr)+9.72)/17.52:e<xr?(Math.log2(xr+.5*e)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})),formats:{color:{}}}),Er=Object.freeze({__proto__:null,A98RGB:cr,A98RGB_Linear:ir,ACEScc:zr,ACEScg:kr,HSL:nr,HSV:sr,HWB:lr,ICTCP:Ze,JzCzHz:je,Jzazbz:Ee,LCH:z,Lab:A,Lab_D65:ue,OKLCH:hr,OKLab:Ke,P3:V,P3_Linear:H,ProPhoto:ur,ProPhoto_Linear:pr,REC_2020:F,REC_2020_Linear:X,REC_2100_HLG:Br,REC_2100_PQ:Cr,XYZ_ABS_D65:Ce,XYZ_D50:v,XYZ_D65:C,sRGB:Q,sRGB_Linear:W});class Color{constructor(...e){let r,t,o,a;1===e.length&&(r=w(e[0])),r?(t=r.space||r.spaceId,o=r.coords,a=r.alpha):[t,o,a]=e,Object.defineProperty(this,"space",{value:ColorSpace.get(t),writable:!1,enumerable:!0,configurable:!0}),this.coords=o?o.slice():[0,0,0],this.alpha=a<1?a:1;for(let e=0;e<this.coords.length;e++)"NaN"===this.coords[e]&&(this.coords[e]=NaN);for(let e in this.space.coords)Object.defineProperty(this,e,{get:()=>this.get(e),set:r=>this.set(e,r)})}get spaceId(){return this.space.id}clone(){return new Color(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=function(e,{space:r=h.display_space,...t}={}){let o=T(e,t);if("undefined"==typeof CSS||CSS.supports("color",o)||!h.display_space)o=new String(o),o.color=e;else{let a=q(e,r);o=new String(T(a,t)),o.color=a}return o}(this,...e);return r.color=new Color(r.color),r}static get(e,...r){return e instanceof Color?e:new Color(e,...r)}static defineFunction(e,r,t=r){let{instance:o=!0,returns:a}=t,n=function(...e){let t=r(...e);if("color"===a)t=Color.get(t);else if("function<color>"===a){let e=t;t=function(...r){let t=e(...r);return Color.get(t)},Object.assign(t,e)}else"array<color>"===a&&(t=t.map((e=>Color.get(e))));return t};e in Color||(Color[e]=n),o&&(Color.prototype[e]=function(...e){return n(this,...e)})}static defineFunctions(e){for(let r in e)Color.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(Color);else for(let r in e)Color.defineFunction(r,e[r])}}Color.defineFunctions({get:S,getAll:y,set:_,setAll:B,to:q,equals:function(e,r){return e=w(e),r=w(r),e.space===r.space&&e.alpha===r.alpha&&e.coords.every(((e,t)=>e===r.coords[t]))},inGamut:$,toGamut:I,distance:ee,toString:T}),Object.assign(Color,{util:p,hooks:u,WHITES:m,Space:ColorSpace,spaces:ColorSpace.registry,parse:M,defaults:h});for(let e of Object.keys(Er))ColorSpace.register(Er[e]);for(let e in ColorSpace.registry)jr(e,ColorSpace.registry[e]);function jr(e,r){Object.keys(r.coords),Object.values(r.coords).map((e=>e.name));let t=e.replace(/-/g,"_");Object.defineProperty(Color.prototype,t,{get(){let t=this.getAll(e);return"undefined"==typeof Proxy?t:new Proxy(t,{has:(e,t)=>{try{return ColorSpace.resolveCoord([r,t]),!0}catch(e){}return Reflect.has(e,t)},get:(e,t,o)=>{if(t&&"symbol"!=typeof t&&!(t in e)){let{index:o}=ColorSpace.resolveCoord([r,t]);if(o>=0)return e[o]}return Reflect.get(e,t,o)},set:(t,o,a,n)=>{if(o&&"symbol"!=typeof o&&!(o in t)||o>=0){let{index:n}=ColorSpace.resolveCoord([r,o]);if(n>=0)return t[n]=a,this.setAll(e,t),!0}return Reflect.set(t,o,a,n)}})},set(r){this.setAll(e,r)},configurable:!0,enumerable:!0})}u.add("colorspace-init-end",(e=>{jr(e.id,e),e.aliases?.forEach((r=>{jr(r,e)}))})),Color.extend(Ue),Color.extend({deltaE:Qe}),Object.assign(Color,{deltaEMethods:Ue}),Color.extend(Ve),Color.extend({contrast:function(e,t,o={}){r(o)&&(o={algorithm:o});let{algorithm:a,...n}=o;if(!a){let e=Object.keys(me).map((e=>e.replace(/^contrast/,""))).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${e}`)}e=w(e),t=w(t);for(let r in me)if("contrast"+a.toLowerCase()===r.toLowerCase())return me[r](e,t,n);throw new TypeError(`Unknown contrast algorithm: ${a}`)}}),Color.extend(ge),Color.extend(oe),Color.extend(ar),Color.extend(me);export{Color as default};